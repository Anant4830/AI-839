# dataset_id_742:
#   type: pandas.CSVDataset
#   filepath: data/01_raw/dataset_id_742.csv
dataset_id_742:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
      type: pandas.CSVDataset
      filepath: data/01_raw/dataset_id_742.csv

#Output of the split
X_train:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/X_train.csv

X_test:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/X_test.csv

y_train:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/y_train.csv

# Assuming the preprocessing pipeline outputs these datasets
X_train_encoded:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/X_train_encoded.csv

X_test_encoded:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/X_test_encoded.csv

y_train_int:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/y_train_int.csv

y_test:
  type: pandas.CSVDataset
  filepath: data/02_intermediate/y_test.csv

#predicted y_pred which is also used by data_reporting pipeline
y_pred:
  type: MemoryDataset


# preprocessed_dataset:
#   type: pandas.ParquetDataset
#   filepath: data/02_intermediate/preprocessed_dataset.pq
preprocessed_dataset:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
      type: pandas.ParquetDataset
      filepath: data/02_intermediate/preprocessed_dataset.pq

# "{subtype}_modelling_pipeline.classification":
#   type: pickle.PickleDataset
#   filepath: data/06_models/classification_{subtype}.pkl
#   versioned: true

# "{subtype}_modelling_pipeline.classification":
#   type: kedro_mlflow.io.models.MlflowModelTrackingDataset
#   flavor: mlflow.sklearn
#   save_args:
#     registered_model_name: my-regressor

classification:
  type: kedro_mlflow.io.models.MlflowModelTrackingDataset
  flavor: mlflow.sklearn
  #filepath: data/06_models/classification.pickle
  #versioned: true
  save_args:
    registered_model_name: my-classification

confusion_matrix:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  #type: kedro_mlflow.io.metrics.MlflowMetricsHistoryDataset
  dataset:
    type: matplotlib.MatplotlibWriter
    filepath: data/08_reporting/confusion_matrix.png

model_performance_metrics:
  type: pandas.CSVDataset
  filepath: data/05_model_output/model_performance_metrics.csv

#For prediction/inference pipeline
input_features:
  type: pandas.CSVDataset
  filepath: data/01_raw/input_features.csv

# scaler_path:
#   type: pickle.PickleDataset
#   filepath: data/04_feature/scaler.pkl

# columns_path:
#   type: pickle.PickleDataset
#   filepath: data/04_feature/training_columns.pkl

